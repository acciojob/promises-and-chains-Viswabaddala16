<!DOCTYPE html>

<html>

<head>
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <!-- write the body here -->
  <form id='myForm'>
    <label for='age'>Age</label>
    <input type='number' id='age' required />
    <label for='name'>Name</label>
    <input type='text' id='name' required />
    <button type='submit' id='btn'>Submit</button>
  </form>

  <script type="text/javascript" src="./script.js"></script>
  <script>
    document.getElementById('myForm').addEventListener('submit', function (event) {
      event.preventDefault();
      let name = document.getElementById('name').value;
      let age = document.getElementById('age').value;

      if (name && age) {
        check(parseInt(age))
          .then((message) => {
            alert(message);
          })
          .catch((message) => {
            alert(message);
          });
      } else {
        alert('Please fill the form');
      }
    });

    function check(age) {
      return new Promise((resolve, reject) => {
        setTimeout(() => {
          if (age > 18) {
            resolve(`Welcome ${document.getElementById('name').value}. You can Vote`);
          } else {
            reject(`Oh sorry ${document.getElementById('name').value}. You aren't old enough`);
          }
        }, 4000);
      });
    }
  </script>
</body>

</html>
